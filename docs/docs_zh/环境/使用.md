### 安装

Environment 模块已包含在 AWorld 框架中，无需单独安装。

```bash
pip install aworld
```

### 最简单的示例

```python
import asyncio
from aworld.sandbox import Sandbox

# 配置 MCP 服务器
mcp_config = {
    "mcpServers": {
        "gaia-mcp": {
            "type": "streamable-http",
            "url": "https://mcp.example.com/mcp",
            "headers": {
                "Authorization": "Bearer YOUR_TOKEN"
            }
        }
    }
}

async def main():
    # 创建 Environment 实例
    sandbox = Sandbox(mcp_config=mcp_config)
    
    # 列出可用工具
    tools = await sandbox.list_tools()
    print(f"可用工具数量: {len(tools)}")
    
    # 清理资源
    await sandbox.cleanup()

if __name__ == "__main__":
    asyncio.run(main())
```


### 复杂环境的在线访问
丰富的环境构建很难，如包冲突，API需要密钥，并发扩展。我们通过三种访问模式使其变得简单：
1.使用我们的默认托管设置（具有使用成本的工具包括有限的免费）。
2.携带您自己的API密钥，以便进行不受限制的访问（即将推出）。
3.提取我们的Docker镜像，并在您自己的基础设施上运行所有内容（即将推出）。

```python
import os
import asyncio
from aworld.sandbox import Sandbox

INVITATION_CODE = os.environ.get("INVITATION_CODE", "")

mcp_config = {
    "mcpServers": {
        "gaia_server": {
            "type": "streamable-http",
            "url": "https://playground.aworldagents.com/environments/mcp",
            "timeout": 600,
            "sse_read_timeout": 600,
            "headers": {
                "ENV_CODE": "gaia",
                "Authorization": f"Bearer {INVITATION_CODE}",
            }
        }
    }
}

async def _list_tools():
    sand_box = Sandbox(mcp_config=mcp_config, mcp_servers=["gaia_server"])
    return await sand_box.mcpservers.list_tools()

if __name__ == "__main__":
    tools = asyncio.run(_list_tools())
    print(tools)
```

![](../imgs/how_to_access_env.gif)
